<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hospital Dashboard</title>
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@400;600&display=swap" rel="stylesheet">

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600&display=swap" rel="stylesheet">

<style>
body {
  background: radial-gradient(circle at top left, #0f172a, #020617);
  font-family: "Prompt", "Orbitron", sans-serif;
  color: #e2e8f0;
  line-height: 1.6;
}

/* Sidebar */
.sidebar {
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 250px;
  overflow-y: auto;
  background: rgba(15, 23, 42, 0.85);
  backdrop-filter: blur(12px);
  border-right: 2px solid rgba(59, 130, 246, 0.5);
  box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
  transition: width 0.3s ease;
  z-index: 1000;
}
.sidebar h4 {
  font-weight: 600;
  color: #38bdf8;
  text-shadow: 0 0 8px rgba(56, 189, 248, 0.7);
}
.nav-pills .nav-link {
  background: transparent;
  border: 1px solid rgba(148, 163, 184, 0.25);
  color: #cbd5e1;
  transition: all 0.3s ease;
  margin-bottom: 0.5rem;
  border-radius: 10px;
}
.nav-pills .nav-link.active {
  background: linear-gradient(135deg, #0ea5e9, #22d3ee);
  color: #0f172a !important;
  font-weight: 600;
  box-shadow: 0 0 20px rgba(14, 165, 233, 0.85);
}

.main-content {
  margin-left: 250px;
  padding: 20px;
  transition: margin-left 0.3s ease;
}

/* Card */
.card {
  background: rgba(30, 41, 59, 0.7);
  backdrop-filter: blur(18px);
  border: 1px solid rgba(148, 163, 184, 0.25);
  box-shadow: 0 10px 28px rgba(0, 0, 0, 0.5);
  border-radius: 16px;
  transition: transform 0.3s, box-shadow 0.3s;
}
.card:hover {
  transform: translateY(-5px);
  box-shadow: 0 0 28px rgba(14, 165, 233, 0.65);
}
.card h5, .card h6 {
  color: #f1f5f9;
  font-weight: 600;
  margin-bottom: 1rem;
  text-shadow: 0 0 6px rgba(14, 165, 233, 0.6);
}

/* Stat box */
.stat-box {
  border-radius: 16px;
  padding: 1.2rem;
  color: #fff;
  text-align: center;
  box-shadow: inset 0 0 15px rgba(59, 130, 246, 0.5);
}
.stat-box p {
  margin: 0;
  font-size: 1rem;
}
.stat-number {
  font-size: 2.4rem;
  font-weight: 700;
  margin-top: 0.5rem;
  color: #f8fafc;
  text-shadow: 0 0 8px rgba(34, 211, 238, 0.8);
}

/* Chart card */
.chart-card {
  height: 420px;
  display: flex;
  flex-direction: column;
}
.chart-card canvas {
  flex: 1;
  max-height: 100% !important;
  filter: drop-shadow(0px 0px 10px rgba(59, 130, 246, 0.6));
}

/* --- Mobile Mode --- */
@media (max-width: 768px) {
  .sidebar {
    width: 60px;              /* ‚úÖ ‡∏¢‡πà‡∏≠‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÅ‡∏Ñ‡πà‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô */
  }
  .main-content {
    margin-left: 60px;        /* ‚úÖ ‡πÄ‡∏ß‡πâ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ */
  }
  .sidebar h4,
  .sidebar .nav-link {
    font-size: 0;             /* ‚úÖ ‡∏ã‡πà‡∏≠‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° */
  }
  .sidebar .nav-link::before {
    font-size: 20px;          /* ‚úÖ ‡πÇ‡∏ä‡∏ß‡πå‡πÅ‡∏Ñ‡πà‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô */
    margin-right: 0;
  }
}
.sidebar:hover {
  width: 250px;
}
.sidebar:hover h4,
.sidebar:hover .nav-link {
  font-size: 16px;
}

/* Table */
.table {
  color: #e2e8f0;
  border-radius: 12px;
  overflow: hidden;
}
.table thead {
  background: rgba(14, 165, 233, 0.2);
  color: #38bdf8;
  font-weight: 600;
}
.table-striped tbody tr:nth-of-type(odd) {
  background-color: rgba(255, 255, 255, 0.03);
}
.table-striped tbody tr:nth-of-type(even) {
  background-color: rgba(255, 255, 255, 0.06);
}
.table tbody tr:hover {
  background: rgba(14, 165, 233, 0.15);
  cursor: pointer;
}
</style>


</head>
<body>
 <!-- Sidebar -->
  <div class="col-md-3 col-lg-2 sidebar">
    <h4 class="mb-4">üöë Hospital Dashboard</h4>
    <ul class="nav nav-pills flex-column" id="dashboardTabs">
      <li class="nav-item">
        <a class="nav-link active" data-bs-toggle="tab" href="#refer">üìä ‡πÄ‡∏ä‡πá‡∏Ñ‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏ï‡πà‡∏≠ (Refer)</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" data-bs-toggle="tab" href="#ems">üß∞ ‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå EMS</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" data-bs-toggle="tab" href="#emergency">üöë ‡πÄ‡∏ä‡πá‡∏Ñ‡∏£‡∏ñ Emergency</a>
      </li>
    </ul>
  </div>

    <!-- Main Content -->
  <!-- Main Content -->
  <div class="main-content">
    <div class="tab-content">
      <!-- Refer Dashboard -->
      <div class="tab-pane fade show active" id="refer">
        <div class="row g-4 mb-4">
          <div class="col-md-3 col-6">
            <div class="stat-box" style="background:linear-gradient(135deg,#3b82f6,#2563eb);">
              <p>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Refer</p>
              <p class="stat-number" id="referCount">0</p>
            </div>
          </div>
          <div class="col-md-3 col-6">
            <div class="stat-box" style="background:linear-gradient(135deg,#22c55e,#16a34a);">
              <p>‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà</p>
              <p class="stat-number" id="staffCount">0</p>
            </div>
          </div>
          <div class="col-md-3 col-6">
            <div class="stat-box" style="background:linear-gradient(135deg,#f59e0b,#d97706);">
              <p>‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</p>
              <p class="stat-number" id="positionCount">0</p>
            </div>
          </div>
          <div class="col-md-3 col-6">
            <div class="stat-box" style="background:linear-gradient(135deg,#ef4444,#b91c1c);">
              <p>‡∏£‡∏ñ Refer</p>
              <p class="stat-number" id="carCount">0</p>
            </div>
          </div>
        </div>

 <div class="row g-4">
          <!-- Refer by Shift -->
          <div class="col-md-6">
            <div class="card p-4 chart-card">
              <h6 class="text-center mb-3">üìå ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Refer ‡∏ï‡∏≤‡∏°‡πÄ‡∏ß‡∏£</h6>
              <canvas id="shiftChart"></canvas>
            </div>
          </div>
          <!-- Staff Position -->
          <div class="col-md-6">
            <div class="card p-4 chart-card">
              <h6 class="text-center mb-3">üë©‚Äç‚öïÔ∏è ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà</h6>
              <canvas id="positionChart"></canvas>
            </div>
          </div>
        </div>

          <!-- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á Refer -->
        <div class="card p-4 mt-4 table-responsive">
          <h5 class="text-center">üìã ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î Refer</h5>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>
                <th>‡πÄ‡∏ß‡∏£</th>
                <th>‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà</th>
                <th>‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</th>
                <th>‡∏£‡∏ñ</th>
              </tr>
            </thead>
            <tbody id="referTable"></tbody>
          </table>
        </div>
      </div>

      <!-- EMS Checklist -->
      <div class="tab-pane fade" id="ems">
        <div class="row g-4">
          <div class="col-md-6">
            <div class="card p-4 chart-card">
              <h5 class="text-center">üì¶ ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏°‡∏µ</h5>
              <canvas id="emsChart"></canvas>
            </div>
          </div>
          <div class="col-md-6">
            <div class="card p-4 table-responsive">
              <h5 class="text-center">üìã ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏ä‡πá‡∏Ñ‡∏•‡∏¥‡∏™‡∏ï‡πå</h5>
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th>‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</th>
                    <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                  </tr>
                </thead>
                <tbody id="emsTable"></tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <!-- Emergency Car -->
      <div class="tab-pane fade" id="emergency">
        <div class="row g-4">
          <div class="col-md-12">
            <div class="card p-4 chart-card">
              <h5 class="text-center">üöë ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏£‡∏ñ Emergency</h5>
              <canvas id="emergencyChart"></canvas>
            </div>
          </div>
          <div class="col-md-12">
            <div class="card p-4 mt-4 table-responsive">
              <h5 class="text-center">üìã ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏£‡∏ñ Emergency</h5>
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>
                    <th>‡∏£‡∏ñ</th>
                    <th>‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö</th>
                    <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                  </tr>
                </thead>
                <tbody id="emergencyTable"></tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

<!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" defer></script>
  <script defer>

    // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Mock
    const data = [
      { date: "22/5/2025", shift: "‡πÄ‡∏ä‡πâ‡∏≤", staff: "‡∏ô‡∏±‡∏ô‡∏ó‡∏ô‡∏¥‡∏ï‡∏¢‡πå", position: "RN", car: "‡∏£‡∏ñ‡∏Ñ‡∏±‡∏ô‡∏ó‡∏µ‡πà 4" },
      { date: "3/6/2025", shift: "‡∏î‡∏∂‡∏Å", staff: "‡∏™‡∏∏‡∏î‡∏≤‡∏£‡∏±‡∏ï‡∏ô‡πå", position: "AEM-T", car: "‡∏£‡∏ñ‡∏Ñ‡∏±‡∏ô‡∏ó‡∏µ‡πà 3" },
      { date: "25/7/2025", shift: "‡πÄ‡∏ä‡πâ‡∏≤", staff: "‡∏à‡∏≤‡∏£‡∏∏‡∏ß‡∏£‡∏£‡∏ì", position: "RN", car: "‡∏£‡∏ñ‡∏Ñ‡∏±‡∏ô‡∏ó‡∏µ‡πà 3" }
    ];
            document.getElementById("referCount").textContent = data.length;
            document.getElementById("staffCount").textContent = new Set(data.map(d => d.staff)).size;
            document.getElementById("positionCount").textContent = new Set(data.map(d => d.position)).size;
            document.getElementById("carCount").textContent = new Set(data.map(d => d.car)).size;

// Shift Chart
const shiftData = {};
data.forEach(d => shiftData[d.shift] = (shiftData[d.shift] || 0) + 1);

const ctxShift = document.getElementById("shiftChart").getContext("2d");

// ‚úÖ Gradient ‡∏™‡∏ß‡∏¢ ‡πÜ
const gradient = ctxShift.createLinearGradient(0, 0, 0, 400);
gradient.addColorStop(0, "#3b82f6");  // ‡∏ü‡πâ‡∏≤
gradient.addColorStop(1, "#22c55e");  // ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß

new Chart(ctxShift, {
    type: "bar",
    data: {
        labels: Object.keys(shiftData),
        datasets: [{
            label: "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Refer",
            data: Object.values(shiftData),
            backgroundColor: gradient,
            borderRadius: 12,   // ‡∏°‡∏∏‡∏°‡πÇ‡∏Ñ‡πâ‡∏á‡∏°‡∏ô
            borderSkipped: false,
            hoverBackgroundColor: "#2563eb"
        }]
    },
    options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
            legend: {
                display: false
            },
            tooltip: {
                backgroundColor: "#1e293b",
                titleColor: "#f1f5f9",
                bodyColor: "#f1f5f9",
                padding: 12,
                borderColor: "#334155",
                borderWidth: 1
            }
        },
        scales: {
            x: {
                grid: {
                    display: false
                },
                ticks: {
                    font: {
                        size: 14,
                        weight: "600"
                    },
                    color: "#334155"
                }
            },
            y: {
                grid: {
                    color: "#e2e8f0"
                },
                ticks: {
                    stepSize: 1,
                    font: {
                        size: 14
                    },
                    color: "#475569"
                }
            }
        }
    }
});

            // Position Chart
            const posData = {};
            data.forEach(d => posData[d.position] = (posData[d.position] || 0) + 1);
            new Chart(document.getElementById("positionChart"), {
                type: "doughnut",
                data: { labels: Object.keys(posData), datasets: [{ data: Object.values(posData), backgroundColor: ["#3b82f6", "#22c55e", "#f59e0b"] }] },
                options: { responsive: true, maintainAspectRatio: false }
            });

            // EMS Checklist
            const emsData = [
                { item: "Ambu Bag", status: "‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ" },
                { item: "Oxygen Tank", status: "‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ô‡πâ‡∏≠‡∏¢" },
                { item: "Suction", status: "‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ" },
                { item: "Monitor", status: "‡∏ä‡∏≥‡∏£‡∏∏‡∏î" }
            ];
            let tbody = document.getElementById("emsTable");
            emsData.forEach(row => tbody.innerHTML += `<tr><td>${row.item}</td><td>${row.status}</td></tr>`);
            let statusCount = {};
            emsData.forEach(r => statusCount[r.status] = (statusCount[r.status] || 0) + 1);
            new Chart(document.getElementById("emsChart"), {
                type: "pie",
                data: { labels: Object.keys(statusCount), datasets: [{ data: Object.values(statusCount), backgroundColor: ["#22c55e", "#facc15", "#ef4444"] }] },
                options: { responsive: true, maintainAspectRatio: false }
            });
            // Refer Table
            let referBody = document.getElementById("referTable");
            data.forEach(r => {
                referBody.innerHTML += `
        <tr>
            <td>${r.date}</td>
            <td>${r.shift}</td>
            <td>${r.staff}</td>
            <td>${r.position}</td>
            <td>${r.car}</td>
        </tr>`;
            });

            // Emergency Data
            const emergencyData = [
                { date: "20/8/2025", car: "‡∏£‡∏ñ‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏• 1", driver: "‡∏≠‡∏ô‡∏±‡∏ô‡∏ï‡πå", status: "‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ" },
                { date: "21/8/2025", car: "‡∏£‡∏ñ‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏• 2", driver: "‡∏™‡∏°‡∏ä‡∏≤‡∏¢", status: "‡πÄ‡∏Ç‡πâ‡∏≤‡∏ã‡πà‡∏≠‡∏°" },
                { date: "21/8/2025", car: "‡∏£‡∏ñ‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏• 3", driver: "‡∏™‡∏∏‡∏ô‡∏µ‡∏¢‡πå", status: "‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ" }
            ];
            let emgBody = document.getElementById("emergencyTable");
            emergencyData.forEach(e => {
                emgBody.innerHTML += `
        <tr>
            <td>${e.date}</td>
            <td>${e.car}</td>
            <td>${e.driver}</td>
            <td>${e.status}</td>
        </tr>`;
            });

             // Emergency Chart
    new Chart(document.getElementById("emergencyChart"), {
      type: "line",
      data: {
        labels: ["‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏°", "‡∏Å‡∏∏‡∏°‡∏†‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡πå", "‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏°"],
        datasets: [{ label: "‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏£‡∏ñ", data: [5, 7, 6], borderColor: "#ef4444", tension: 0.3 }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: { legend: { position: "bottom" } },
        layout: { padding: 10 }
      }
            });
        </script>
</body>

</html>